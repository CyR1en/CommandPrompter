plugins {
    id 'java'
    id 'maven'
    id 'com.github.johnrengelman.shadow' version '2.0.4'
}

group 'com.cyr1en'
version '0.1-SNAPSHOT'

sourceCompatibility = 1.8
targetCompatibility = 1.8

project.ext.majorVersion = '0'
project.ext.minorVersion = '1'
project.ext.patchVersion = '12'
project.ext.fullVersion = project.ext.majorVersion + '.' + project.ext.minorVersion + '.' + project.ext.patchVersion

repositories {
    mavenCentral()
    jcenter()
    mavenLocal()
    maven { url = "https://repo.aikar.co/content/groups/aikar/" }
    maven { url 'https://jitpack.io' }
    maven { url 'https://hub.spigotmc.org/nexus/content/repositories/snapshots/' }
    maven { url 'https://nexus.wesjd.net/repository/thirdparty/' }
    maven { url 'https://repo.lucko.me/' }
    maven { url 'https://libraries.minecraft.net'}
    maven { url "http://repo.dmulloy2.net/nexus/repository/public/" }
}

dependencies {
    compile group: 'org.jsoup', name: 'jsoup', version: '1.11.3'
    compile group: 'commons-io', name: 'commons-io', version: '2.5'
    compile "co.aikar:acf-paper:0.5.0-SNAPSHOT"
    compile 'com.github.mkremins:fanciful:master-SNAPSHOT'
    compile 'net.wesjd:anvilgui:1.2.1-SNAPSHOT'
    compile 'me.lucko:commodore:1.2'
    compile 'me.lucko:helper:5.5.0'
    compileOnly 'com.mojang:brigadier:1.0.15'
    compileOnly 'org.spigotmc:spigot-api:1.13-pre7-R0.1-SNAPSHOT'
    compileOnly group: "com.comphenix.protocol", name: "ProtocolLib", version: "4.4.0"
}

processResources {
    from(sourceSets.main.resources.srcDirs) {
        expand 'pluginVersion': project.ext.fullVersion
        include 'plugin.yml'
    }
}

shadowJar {
    archiveName = "CommandPrompter-${project.ext.fullVersion}.jar"
    relocate 'co.aikar.commands', 'com.cyr1en.cp.acf'
    relocate 'me.lucko.commodore', 'com.cyr1en.cp.commodore'
    relocate 'me.lucko.helper', 'com.cyr1en.cp.helper'
}

artifacts {
    archives shadowJar
}